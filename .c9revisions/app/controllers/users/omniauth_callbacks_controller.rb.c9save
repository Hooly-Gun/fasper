{"ts":1361714141030,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"class Users::OmniauthCallbacksController < ApplicationController\n  def facebook\n  end\n\n  def vkontakte\n  end\nend\n"]],"start1":0,"start2":0,"length1":0,"length2":113}]],"length":113}
{"contributors":[],"silentsave":false,"ts":1361730522249,"patch":[[{"diffs":[[0,"ller"],[-1," < Application"],[1,"Controller < Devise::OmniauthCallbacks"],[0,"Cont"]],"start1":36,"start2":36,"length1":22,"length2":46},{"diffs":[[0,"ntroller"],[1,"\r"],[0,"\n  def f"]],"start1":80,"start2":80,"length1":16,"length2":17},{"diffs":[[0,"facebook"],[1,"\r"],[0,"\n  end"],[-1,"\n"],[1,"\r\n\r"],[0,"\n  def v"]],"start1":96,"start2":96,"length1":23,"length2":26},{"diffs":[[0,"akte"],[1,"\r"],[0,"\n  end"],[1,"\r"],[0,"\nend"],[-1,"\n"]],"start1":126,"start2":126,"length1":15,"length2":16}]],"length":142,"saved":false}
{"ts":1361732734323,"patch":[[{"diffs":[[0,"er\r\n"],[-1,"  def facebook\r\n  end\r\n\r\n  def vkontakte\r\n"],[1,"\r\n  def vkontakte\r\n  end\r\n  \r\n  def facebook\r\n    <hh user=user> = User.find_for_facebook_oauth request.env[\"omniauth.auth\"]\r\n    if <hh user=user>.persisted?\r\n      flash[:notice] = I18n.t \"devise.omniauth_callbacks.success\", :kind => \"Facebook\"\r\n      sign_in_and_redirect <hh user=user>, :event => :authentication\r\n    else\r\n      flash[:notice] = \"authentication error\"\r\n      redirect_to root_path\r\n  "],[0,"  en"]],"start1":86,"start2":86,"length1":50,"length2":414}]],"length":506,"saved":false}
{"ts":1361735500406,"patch":[[{"diffs":[[0,"ntroller"],[-1,"Controller"],[0," < Devis"]],"start1":32,"start2":32,"length1":26,"length2":16}]],"length":496,"saved":false}
{"contributors":[],"silentsave":false,"ts":1361765695054,"patch":[[{"diffs":[[1,"#"],[0,"class Us"]],"start1":0,"start2":0,"length1":8,"length2":9},{"diffs":[[0,"roller\r\n"],[1,"#"],[0,"\r\n"],[1,"#"],[0,"  def vk"]],"start1":73,"start2":73,"length1":18,"length2":20},{"diffs":[[0,"te\r\n"],[1,"#"],[0,"  end\r\n"],[1,"#"],[0,"  \r\n"],[1,"#"],[0,"  de"]],"start1":98,"start2":98,"length1":19,"length2":22},{"diffs":[[0,"cebook\r\n"],[1,"#"],[0,"    <hh "]],"start1":124,"start2":124,"length1":16,"length2":17},{"diffs":[[0,"auth\"]\r\n"],[1,"#"],[0,"    if <"]],"start1":205,"start2":205,"length1":16,"length2":17},{"diffs":[[0,"isted?\r\n"],[1,"#      flash[:notice] = I18n.t \"devise.omniauth_callbacks.success\", :kind => \"Facebook\"\r\n#      sign_in_and_redirect <hh user=user>, :event => :authentication\r\n#    else\r\n#      flash[:notice] = \"authentication error\"\r\n#      redirect_to root_path\r\n#    end\r\n#end\r\n\r\n\r\nclass Users::OmniauthCallbacksController < ApplicationController\r\n  def facebook\r\n    @user = User.find_for_facebook_oauth request.env[\"omniauth.auth\"]\r\n    if @user.persisted?\r\n"],[0,"      fl"]],"start1":240,"start2":240,"length1":16,"length2":463},{"diffs":[[0,"nd_redirect "],[-1,"<hh user=user>"],[1,"@user"],[0,", :event => "]],"start1":798,"start2":798,"length1":38,"length2":29},{"diffs":[[0,"   end\r\n"],[1,"  "],[0,"end"]],"start1":931,"start2":931,"length1":11,"length2":13}]],"length":944,"saved":false}
{"contributors":[],"silentsave":false,"ts":1361782859188,"patch":[[{"diffs":[[0,"  end\r\n  end"],[1,"\r\n  end\r\n  "]],"start1":932,"start2":932,"length1":12,"length2":23}]],"length":955,"saved":false}
